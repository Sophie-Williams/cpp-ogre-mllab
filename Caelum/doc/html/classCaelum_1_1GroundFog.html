<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Caelum: Caelum::GroundFog Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><b>Caelum</b>::<a class="el" href="classCaelum_1_1GroundFog.html">GroundFog</a>
  </div>
</div>
<div class="contents">
<h1>Caelum::GroundFog Class Reference</h1><!-- doxytag: class="Caelum::GroundFog" --><!-- doxytag: inherits="Caelum::CameraBoundElement" -->Exponential ground fog system implementation.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="GroundFog_8h_source.html">GroundFog.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Caelum::GroundFog:</div>
<div class="dynsection">

<p><center><img src="classCaelum_1_1GroundFog.png" usemap="#Caelum::GroundFog_map" border="0" alt=""></center>
<map name="Caelum::GroundFog_map">
<area href="classCaelum_1_1CameraBoundElement.html" alt="Caelum::CameraBoundElement" shape="rect" coords="0,0,184,24">
</map>
</div>

<p>
<a href="classCaelum_1_1GroundFog-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>DomeFogParams</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>FogParamsBase</b></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Params references. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>PassFogParams</b></td></tr>

<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="602fe959ac6470ee64c8dd7dadbcdbe7"></a><!-- doxytag: member="Caelum::GroundFog::PassSet" ref="602fe959ac6470ee64c8dd7dadbcdbe7" args="" -->
typedef std::set&lt; Ogre::Pass * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#602fe959ac6470ee64c8dd7dadbcdbe7">PassSet</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Typedef for easier manipulation of a set of Passes. <br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5bc388436c2b05b70d5c7f187d1a170d"></a><!-- doxytag: member="Caelum::GroundFog::GroundFog" ref="5bc388436c2b05b70d5c7f187d1a170d" args="(Ogre::SceneManager *scene, Ogre::SceneNode *caelumRootNode, const Ogre::String &amp;domeMaterialName=&quot;CaelumGroundFogDome&quot;, const Ogre::String &amp;domeEntityName=&quot;CaelumGroundFogDome&quot;)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#5bc388436c2b05b70d5c7f187d1a170d">GroundFog</a> (Ogre::SceneManager *scene, Ogre::SceneNode *caelumRootNode, const Ogre::String &amp;domeMaterialName=&quot;CaelumGroundFogDome&quot;, const Ogre::String &amp;domeEntityName=&quot;CaelumGroundFogDome&quot;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="80363baf3b0c242fb264298b0b00da7c"></a><!-- doxytag: member="Caelum::GroundFog::~GroundFog" ref="80363baf3b0c242fb264298b0b00da7c" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#80363baf3b0c242fb264298b0b00da7c">~GroundFog</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Virtual destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classCaelum_1_1GroundFog.html#602fe959ac6470ee64c8dd7dadbcdbe7">PassSet</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#73a41ad625fa5ed9b7eaccd3c14d7f23">getPasses</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the set of currently controlled passes.  <a href="#73a41ad625fa5ed9b7eaccd3c14d7f23"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classCaelum_1_1GroundFog.html#602fe959ac6470ee64c8dd7dadbcdbe7">PassSet</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#240ae83ffe83a8d3f9bdfff771ec7368">getPasses</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the set of currently controlled passes.  <a href="#240ae83ffe83a8d3f9bdfff771ec7368"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#3fc9d0fdf3acb4211a223b5044cbb22c">findFogPassesByName</a> (const Ogre::String &amp;passName=DEFAULT_PASS_NAME)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find caelum fog passes to control by name.  <a href="#3fc9d0fdf3acb4211a223b5044cbb22c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bd890eeb92a9905e7ac86a2f6ba36174"></a><!-- doxytag: member="Caelum::GroundFog::setDensity" ref="bd890eeb92a9905e7ac86a2f6ba36174" args="(Ogre::Real density)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#bd890eeb92a9905e7ac86a2f6ba36174">setDensity</a> (Ogre::Real density)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the fog density multiplier. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7561c31f7b924932329e87f5bd97fe04"></a><!-- doxytag: member="Caelum::GroundFog::getDensity" ref="7561c31f7b924932329e87f5bd97fe04" args="() const " -->
Ogre::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#7561c31f7b924932329e87f5bd97fe04">getDensity</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the fog density multiplier. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="280d152df3e6475e3ce30b50590f747b"></a><!-- doxytag: member="Caelum::GroundFog::setColour" ref="280d152df3e6475e3ce30b50590f747b" args="(const Ogre::ColourValue &amp;colour)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#280d152df3e6475e3ce30b50590f747b">setColour</a> (const Ogre::ColourValue &amp;colour)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets fog colour. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ce8ed8e1ef17d39a6bb366622f00f8ce"></a><!-- doxytag: member="Caelum::GroundFog::getColour" ref="ce8ed8e1ef17d39a6bb366622f00f8ce" args="() const " -->
const Ogre::ColourValue&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#ce8ed8e1ef17d39a6bb366622f00f8ce">getColour</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets fog colour. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e83eb9fc967e442fb282805ed0de4410"></a><!-- doxytag: member="Caelum::GroundFog::setVerticalDecay" ref="e83eb9fc967e442fb282805ed0de4410" args="(Ogre::Real verticalDecay)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#e83eb9fc967e442fb282805ed0de4410">setVerticalDecay</a> (Ogre::Real verticalDecay)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the vertical fog decay constant. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="61de309050fb20eb68569044df96c039"></a><!-- doxytag: member="Caelum::GroundFog::getVerticalDecay" ref="61de309050fb20eb68569044df96c039" args="() const " -->
Ogre::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#61de309050fb20eb68569044df96c039">getVerticalDecay</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the vertical fog decay constant. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#3ba66b03da3cda7ffeac1ff023dcc5ef">setGroundLevel</a> (Ogre::Real GroundLevela)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the ground level.  <a href="#3ba66b03da3cda7ffeac1ff023dcc5ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="25b07e241d5fc5f1fa137f29879a30ef"></a><!-- doxytag: member="Caelum::GroundFog::getGroundLevel" ref="25b07e241d5fc5f1fa137f29879a30ef" args="() const " -->
Ogre::Real&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#25b07e241d5fc5f1fa137f29879a30ef">getGroundLevel</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the ground level. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#281354c6d03425fc0a9ed3ef5fa565e7">forceUpdate</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Forces an update of all the passes.  <a href="#281354c6d03425fc0a9ed3ef5fa565e7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6673bc36dc01463a26865fa816eaa54c"></a><!-- doxytag: member="Caelum::GroundFog::notifyCameraChanged" ref="6673bc36dc01463a26865fa816eaa54c" args="(Ogre::Camera *cam)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#6673bc36dc01463a26865fa816eaa54c">notifyCameraChanged</a> (Ogre::Camera *cam)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle camera change. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c29db1d2d50fb90f0598d4bf8ab4f6b0"></a><!-- doxytag: member="Caelum::GroundFog::setQueryFlags" ref="c29db1d2d50fb90f0598d4bf8ab4f6b0" args="(uint flags)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setQueryFlags</b> (uint flags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b0f982a87471ee687ddb5a7679beedb9"></a><!-- doxytag: member="Caelum::GroundFog::getQueryFlags" ref="b0f982a87471ee687ddb5a7679beedb9" args="() const " -->
uint&nbsp;</td><td class="memItemRight" valign="bottom"><b>getQueryFlags</b> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7b43748465eb410d253114cde002207f"></a><!-- doxytag: member="Caelum::GroundFog::setVisibilityFlags" ref="7b43748465eb410d253114cde002207f" args="(uint flags)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>setVisibilityFlags</b> (uint flags)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="90fc50171b285c11d14fd36a4b904602"></a><!-- doxytag: member="Caelum::GroundFog::getVisibilityFlags" ref="90fc50171b285c11d14fd36a4b904602" args="() const " -->
uint&nbsp;</td><td class="memItemRight" valign="bottom"><b>getVisibilityFlags</b> () const </td></tr>

<tr><td colspan="2"><br><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8e803cc8ca79a80e0155a3eb46fc44f9"></a><!-- doxytag: member="Caelum::GroundFog::DEFAULT_PASS_NAME" ref="8e803cc8ca79a80e0155a3eb46fc44f9" args="" -->
static const Ogre::String&nbsp;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_PASS_NAME</b> = &quot;CaelumGroundFog&quot;</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1405ac88818ba6fbc81fb47d73e807ac"></a><!-- doxytag: member="Caelum::GroundFog::setFarRadius" ref="1405ac88818ba6fbc81fb47d73e807ac" args="(Ogre::Real radius)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCaelum_1_1GroundFog.html#1405ac88818ba6fbc81fb47d73e807ac">setFarRadius</a> (Ogre::Real radius)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle far radius. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Exponential ground fog system implementation. 
<p>
This class controls CaelumGroundFog passes in a potentially large number of materials, changing shader program parameters. This class keeps a list of passes to control; which can be build based on pass name.<p>
This simulates a field of fog where "absorption" at a certain point is exp(-verticalDecay * (h - fogLevel)). This absorption is multiplicative, the total fog alpha is e^(-density * absorption_on_view_path).<p>
You can set verticalDecay to 0 and get standard GL_EXP fog. Don't actually do that though because you'll get a division by 0.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>: This is deprecated starting from Caelum 0.4. The <a class="el" href="classCaelum_1_1DepthComposer.html" title="Compositor-based precipitation controller.">DepthComposer</a> class provides similar functionality with less intrusion on your materials. </dd></dl>

<p>Definition at line <a class="el" href="GroundFog_8h_source.html#l00047">47</a> of file <a class="el" href="GroundFog_8h_source.html">GroundFog.h</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="73a41ad625fa5ed9b7eaccd3c14d7f23"></a><!-- doxytag: member="Caelum::GroundFog::getPasses" ref="73a41ad625fa5ed9b7eaccd3c14d7f23" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCaelum_1_1GroundFog.html#602fe959ac6470ee64c8dd7dadbcdbe7">GroundFog::PassSet</a> &amp; Caelum::GroundFog::getPasses           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the set of currently controlled passes. 
<p>
This is provided if you really want to change the set by hand. You should call forceUpdate after modifying this set. 
<p>Definition at line <a class="el" href="GroundFog_8cpp_source.html#l00069">69</a> of file <a class="el" href="GroundFog_8cpp_source.html">GroundFog.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="240ae83ffe83a8d3f9bdfff771ec7368"></a><!-- doxytag: member="Caelum::GroundFog::getPasses" ref="240ae83ffe83a8d3f9bdfff771ec7368" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCaelum_1_1GroundFog.html#602fe959ac6470ee64c8dd7dadbcdbe7">GroundFog::PassSet</a> &amp; Caelum::GroundFog::getPasses           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the set of currently controlled passes. 
<p>
This is a const overload which doesn't let you modify the underlying collection. 
<p>Definition at line <a class="el" href="GroundFog_8cpp_source.html#l00073">73</a> of file <a class="el" href="GroundFog_8cpp_source.html">GroundFog.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="3fc9d0fdf3acb4211a223b5044cbb22c"></a><!-- doxytag: member="Caelum::GroundFog::findFogPassesByName" ref="3fc9d0fdf3acb4211a223b5044cbb22c" args="(const Ogre::String &amp;passName=DEFAULT_PASS_NAME)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Caelum::GroundFog::findFogPassesByName           </td>
          <td>(</td>
          <td class="paramtype">const Ogre::String &amp;&nbsp;</td>
          <td class="paramname"> <em>passName</em> = <code>DEFAULT_PASS_NAME</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find caelum fog passes to control by name. 
<p>
By default this looks for passes called "CaleumGroundFog". <dl class="note" compact><dt><b>Note:</b></dt><dd>This calls <a class="el" href="classCaelum_1_1GroundFog.html#281354c6d03425fc0a9ed3ef5fa565e7" title="Forces an update of all the passes.">forceUpdate()</a> </dd></dl>

<p>Definition at line <a class="el" href="GroundFog_8cpp_source.html#l00077">77</a> of file <a class="el" href="GroundFog_8cpp_source.html">GroundFog.cpp</a>.</p>

<p>References <a class="el" href="GroundFog_8cpp_source.html#l00165">forceUpdate()</a>.</p>

</div>
</div><p>
<a class="anchor" name="3ba66b03da3cda7ffeac1ff023dcc5ef"></a><!-- doxytag: member="Caelum::GroundFog::setGroundLevel" ref="3ba66b03da3cda7ffeac1ff023dcc5ef" args="(Ogre::Real GroundLevela)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Caelum::GroundFog::setGroundLevel           </td>
          <td>(</td>
          <td class="paramtype">Ogre::Real&nbsp;</td>
          <td class="paramname"> <em>GroundLevela</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the ground level. 
<p>
At ground level 'fogginess' is equal to 1. 
<p>Definition at line <a class="el" href="GroundFog_8cpp_source.html#l00144">144</a> of file <a class="el" href="GroundFog_8cpp_source.html">GroundFog.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="281354c6d03425fc0a9ed3ef5fa565e7"></a><!-- doxytag: member="Caelum::GroundFog::forceUpdate" ref="281354c6d03425fc0a9ed3ef5fa565e7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Caelum::GroundFog::forceUpdate           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Forces an update of all the passes. 
<p>
You have to use this if you modify the set of passes by hand, otherwise avoid it. 
<p>Definition at line <a class="el" href="GroundFog_8cpp_source.html#l00165">165</a> of file <a class="el" href="GroundFog_8cpp_source.html">GroundFog.cpp</a>.</p>

<p>Referenced by <a class="el" href="GroundFog_8cpp_source.html#l00077">findFogPassesByName()</a>, and <a class="el" href="GroundFog_8cpp_source.html#l00030">GroundFog()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>main/include/<a class="el" href="GroundFog_8h_source.html">GroundFog.h</a><li>main/src/<a class="el" href="GroundFog_8cpp_source.html">GroundFog.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Aug 9 10:48:56 2009 for Caelum by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
