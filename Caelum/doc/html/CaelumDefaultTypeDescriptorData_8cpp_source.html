<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Caelum: main/src/CaelumDefaultTypeDescriptorData.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>main/src/CaelumDefaultTypeDescriptorData.cpp</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment">This file is part of Caelum.</span>
<a name="l00003"></a>00003 <span class="comment">See http://www.ogre3d.org/wiki/index.php/Caelum </span>
<a name="l00004"></a>00004 <span class="comment"></span>
<a name="l00005"></a>00005 <span class="comment">Copyright (c) 2008 Caelum team. See Contributors.txt for details.</span>
<a name="l00006"></a>00006 <span class="comment"></span>
<a name="l00007"></a>00007 <span class="comment">Caelum is free software: you can redistribute it and/or modify</span>
<a name="l00008"></a>00008 <span class="comment">it under the terms of the GNU Lesser General Public License as published</span>
<a name="l00009"></a>00009 <span class="comment">by the Free Software Foundation, either version 3 of the License, or</span>
<a name="l00010"></a>00010 <span class="comment">(at your option) any later version.</span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="comment">Caelum is distributed in the hope that it will be useful,</span>
<a name="l00013"></a>00013 <span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00014"></a>00014 <span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00015"></a>00015 <span class="comment">GNU Lesser General Public License for more details.</span>
<a name="l00016"></a>00016 <span class="comment"></span>
<a name="l00017"></a>00017 <span class="comment">You should have received a copy of the GNU Lesser General Public License</span>
<a name="l00018"></a>00018 <span class="comment">along with Caelum. If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<a name="l00019"></a>00019 <span class="comment">*/</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="preprocessor">#include "CaelumPrecompiled.h"</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include "<a class="code" href="CaelumPrerequisites_8h.html">CaelumPrerequisites.h</a>"</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#if CAELUM_TYPE_DESCRIPTORS</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span>
<a name="l00026"></a>00026 <span class="preprocessor">#include "TypeDescriptor.h"</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include "CaelumSystem.h"</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include "FlatCloudLayer.h"</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="keyword">using namespace </span>Ogre;
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="keyword">namespace </span>Caelum
<a name="l00033"></a>00033 {
<a name="l00034"></a>00034     CaelumDefaultTypeDescriptorData::CaelumDefaultTypeDescriptorData ():
<a name="l00035"></a>00035             CaelumSystemTypeDescriptor(0),
<a name="l00036"></a>00036             PointStarfieldTypeDescriptor(0),
<a name="l00037"></a>00037             BaseSkyLightTypeDescriptor(0),
<a name="l00038"></a>00038             GroundFogTypeDescriptor(0),
<a name="l00039"></a>00039             PrecipitationTypeDescriptor(0),
<a name="l00040"></a>00040             DepthComposerTypeDescriptor(0),
<a name="l00041"></a>00041             FlatCloudLayerTypeDescriptor(0),
<a name="l00042"></a>00042             SkyDomeTypeDescriptor(0)
<a name="l00043"></a>00043     {
<a name="l00044"></a>00044         <span class="keywordflow">try</span> {
<a name="l00045"></a>00045             load ();
<a name="l00046"></a>00046         } <span class="keywordflow">catch</span> (...) {
<a name="l00047"></a>00047             unload ();
<a name="l00048"></a>00048             <span class="keywordflow">throw</span>;
<a name="l00049"></a>00049         }
<a name="l00050"></a>00050     }
<a name="l00051"></a>00051 
<a name="l00052"></a>00052     CaelumDefaultTypeDescriptorData::~CaelumDefaultTypeDescriptorData ()
<a name="l00053"></a>00053     {
<a name="l00054"></a>00054         unload ();
<a name="l00055"></a>00055     }
<a name="l00056"></a>00056 
<a name="l00057"></a>00057     <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;
<a name="l00058"></a>00058     <span class="keyword">inline</span> <span class="keywordtype">void</span> delete_zero(T*&amp; member) {
<a name="l00059"></a>00059         <span class="comment">// Remember: delete 0 is a legal no-op.</span>
<a name="l00060"></a>00060         <span class="keyword">delete</span> member;
<a name="l00061"></a>00061         member = 0;
<a name="l00062"></a>00062     }
<a name="l00063"></a>00063 
<a name="l00064"></a>00064     <span class="keywordtype">void</span> CaelumDefaultTypeDescriptorData::unload ()
<a name="l00065"></a>00065     {
<a name="l00066"></a>00066         delete_zero(CaelumSystemTypeDescriptor);
<a name="l00067"></a>00067         delete_zero(PointStarfieldTypeDescriptor);
<a name="l00068"></a>00068         delete_zero(BaseSkyLightTypeDescriptor);
<a name="l00069"></a>00069         delete_zero(GroundFogTypeDescriptor);
<a name="l00070"></a>00070         delete_zero(PrecipitationTypeDescriptor);
<a name="l00071"></a>00071         delete_zero(DepthComposerTypeDescriptor);
<a name="l00072"></a>00072         delete_zero(FlatCloudLayerTypeDescriptor);
<a name="l00073"></a>00073         delete_zero(SkyDomeTypeDescriptor);
<a name="l00074"></a>00074     }
<a name="l00075"></a>00075 
<a name="l00076"></a>00076     <span class="keywordtype">void</span> CaelumDefaultTypeDescriptorData::load ()
<a name="l00077"></a>00077     {
<a name="l00078"></a>00078         <span class="keywordflow">if</span> (!CaelumSystemTypeDescriptor)
<a name="l00079"></a>00079         {
<a name="l00080"></a>00080             std::auto_ptr&lt;DefaultTypeDescriptor&gt; td (<span class="keyword">new</span> DefaultTypeDescriptor ());
<a name="l00081"></a>00081 
<a name="l00082"></a>00082             <span class="comment">// Timing settings.</span>
<a name="l00083"></a>00083             td-&gt;add(<span class="stringliteral">"time_scale"</span>,
<a name="l00084"></a>00084                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, Real, Real, Real&gt;(
<a name="l00085"></a>00085                             &amp;Caelum::CaelumSystem::getTimeScale,
<a name="l00086"></a>00086                             &amp;Caelum::CaelumSystem::setTimeScale));
<a name="l00087"></a>00087             td-&gt;add(<span class="stringliteral">"julian_day"</span>,
<a name="l00088"></a>00088                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, LongReal, LongReal, LongReal&gt;(
<a name="l00089"></a>00089                             &amp;Caelum::CaelumSystem::getJulianDay,
<a name="l00090"></a>00090                             &amp;Caelum::CaelumSystem::setJulianDay));
<a name="l00091"></a>00091 
<a name="l00092"></a>00092             <span class="comment">// Latitude/longitude</span>
<a name="l00093"></a>00093             td-&gt;add(<span class="stringliteral">"latitude"</span>,
<a name="l00094"></a>00094                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, Degree, Degree, const Degree&gt;(
<a name="l00095"></a>00095                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#c19a02f1b86e15bab21c2d8ac5b3fbd7" title="Get the observer&amp;#39;s latitude. North is positive, south is negative.">Caelum::CaelumSystem::getObserverLatitude</a>,
<a name="l00096"></a>00096                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#86a2448d8f49863f7c9781d4a743cfff" title="Set the observer&amp;#39;s latitude. North is positive, south is negative.">Caelum::CaelumSystem::setObserverLatitude</a>));
<a name="l00097"></a>00097             td-&gt;add(<span class="stringliteral">"longitude"</span>,
<a name="l00098"></a>00098                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, Degree, Degree, const Degree&gt;(
<a name="l00099"></a>00099                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#42a54bea76373bc0a2895dc16a37a1a2" title="Get the observer&amp;#39;s longitude. East is positive, west is negative.">Caelum::CaelumSystem::getObserverLongitude</a>,
<a name="l00100"></a>00100                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#eafe5c5567a116ec0955f3e504cee91b" title="Set the observer&amp;#39;s longitude. East is positive, west is negative.">Caelum::CaelumSystem::setObserverLongitude</a>));
<a name="l00101"></a>00101 
<a name="l00102"></a>00102             <span class="comment">// Fog settings.</span>
<a name="l00103"></a>00103             td-&gt;add(<span class="stringliteral">"global_fog_density_multiplier"</span>,
<a name="l00104"></a>00104                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, Real, Real, Real&gt;(
<a name="l00105"></a>00105                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#13e1c9eb6a45894ae3e3065792f5bd69" title="Get the value set by setSceneFogDensityMultiplier.">Caelum::CaelumSystem::getGlobalFogDensityMultiplier</a>,
<a name="l00106"></a>00106                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#bbaf90cc5df3445487ca5744d54a4987" title="Multiplier for global fog density (default 1).">Caelum::CaelumSystem::setGlobalFogDensityMultiplier</a>));
<a name="l00107"></a>00107             td-&gt;add(<span class="stringliteral">"global_fog_colour_multiplier"</span>,
<a name="l00108"></a>00108                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, ColourValue&gt;(
<a name="l00109"></a>00109                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#6a316879ddae9e6238e35e9b901d92b6" title="See setGlobalFogColourMultiplier.">Caelum::CaelumSystem::getGlobalFogColourMultiplier</a>,
<a name="l00110"></a>00110                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#73557b256d14b17895dd895f90744b5b" title="Set an additional multiplier for fog colour.">Caelum::CaelumSystem::setGlobalFogColourMultiplier</a>));
<a name="l00111"></a>00111             td-&gt;add(<span class="stringliteral">"manage_scene_fog"</span>,
<a name="l00112"></a>00112                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, bool, bool, bool&gt;(
<a name="l00113"></a>00113                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#2697cd76fa5970ea4f84940226f2d731" title="Tells if Caelum is managing the fog or not.">Caelum::CaelumSystem::getManageSceneFog</a>,
<a name="l00114"></a>00114                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#5124c2195ad84022300d5054c3a441d9" title="Enables/disables Caelum managing standard Ogre::Scene fog.">Caelum::CaelumSystem::setManageSceneFog</a>));
<a name="l00115"></a>00115             td-&gt;add(<span class="stringliteral">"scene_fog_density_multiplier"</span>,
<a name="l00116"></a>00116                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, Real, Real, Real&gt;(
<a name="l00117"></a>00117                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#c4f97d7338980ee799e242a8ddd587bc" title="Get the value set by setSceneFogDensityMultiplier.">Caelum::CaelumSystem::getSceneFogDensityMultiplier</a>,
<a name="l00118"></a>00118                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#614b5aa70e9ab3f05e9d0352591ebd91" title="Multiplier for scene fog density (default 1).">Caelum::CaelumSystem::setSceneFogDensityMultiplier</a>));
<a name="l00119"></a>00119             td-&gt;add(<span class="stringliteral">"scene_fog_colour_multiplier"</span>,
<a name="l00120"></a>00120                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, ColourValue&gt;(
<a name="l00121"></a>00121                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#5b8956df31945b72c316d826f2299e07" title="See setSceneFogColourMultiplier.">Caelum::CaelumSystem::getSceneFogColourMultiplier</a>,
<a name="l00122"></a>00122                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#ef502120aafba799abf411941227c3c7" title="Set an additional multiplier for fog colour as it comes from SkyColourModel.">Caelum::CaelumSystem::setSceneFogColourMultiplier</a>));
<a name="l00123"></a>00123             td-&gt;add(<span class="stringliteral">"ground_fog_density_multiplier"</span>,
<a name="l00124"></a>00124                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, Real, Real, Real&gt;(
<a name="l00125"></a>00125                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#d88f9996a7becdec1dcc1e57ac9c81fa" title="Get the value set by setGroundFogDensityMultiplier.">Caelum::CaelumSystem::getGroundFogDensityMultiplier</a>,
<a name="l00126"></a>00126                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#e8bc4e466f086edb86e797b255e09fa9" title="Multiplier for ground fog density (default 1).">Caelum::CaelumSystem::setGroundFogDensityMultiplier</a>));
<a name="l00127"></a>00127             td-&gt;add(<span class="stringliteral">"ground_fog_colour_multiplier"</span>,
<a name="l00128"></a>00128                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, ColourValue&gt;(
<a name="l00129"></a>00129                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#d28dc4c96e62ba3ed9c362372032e502" title="See setGroundFogColourMultiplier.">Caelum::CaelumSystem::getGroundFogColourMultiplier</a>,
<a name="l00130"></a>00130                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#991ad230d37edea60acb1eb7c2e1aacf" title="Set an additional multiplier for ground fog colour as it comes from SkyColourModel...">Caelum::CaelumSystem::setGroundFogColourMultiplier</a>));
<a name="l00131"></a>00131 
<a name="l00132"></a>00132             <span class="comment">// Lighting settings.</span>
<a name="l00133"></a>00133             td-&gt;add(<span class="stringliteral">"manage_ambient_light"</span>,
<a name="l00134"></a>00134                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, bool, bool, bool&gt;(
<a name="l00135"></a>00135                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#05785f1f82129112047e754ec11b734a" title="Check if CaelumSystem is managing ambient lighting.">Caelum::CaelumSystem::getManageAmbientLight</a>,
<a name="l00136"></a>00136                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#403a3b806af32458d31f5835fa0cbafc" title="Set this to true to have CaelumSystem manage the scene&amp;#39;s ambient light.">Caelum::CaelumSystem::setManageAmbientLight</a>));
<a name="l00137"></a>00137             td-&gt;add(<span class="stringliteral">"minimum_ambient_light"</span>,
<a name="l00138"></a>00138                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, ColourValue&gt;(
<a name="l00139"></a>00139                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#45965519f5adc3c08887a566b47f57b3">Caelum::CaelumSystem::getMinimumAmbientLight</a>,
<a name="l00140"></a>00140                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#9ae64903ce347353d5f13d15e3732009" title="Set the minimum value for scene ambient lighting, This is only used if getManageAmbientLight()...">Caelum::CaelumSystem::setMinimumAmbientLight</a>));
<a name="l00141"></a>00141             td-&gt;add(<span class="stringliteral">"ensure_single_light_source"</span>,
<a name="l00142"></a>00142                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, bool, bool, bool&gt;(
<a name="l00143"></a>00143                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#d64b09cf5f8b91ab0c4fcaab1625e439" title="See setEnsureSingleLightSource.">Caelum::CaelumSystem::getEnsureSingleLightSource</a>,
<a name="l00144"></a>00144                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#7fca1c2445a812292ba894c4c95b082e" title="Ensure only one of caelum&amp;#39;s light sources is active at a time (the brightest)...">Caelum::CaelumSystem::setEnsureSingleLightSource</a>));
<a name="l00145"></a>00145             td-&gt;add(<span class="stringliteral">"ensure_single_shadow_source"</span>,
<a name="l00146"></a>00146                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::CaelumSystem, bool, bool, bool&gt;(
<a name="l00147"></a>00147                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#c65cad2f909070ac8ac1eb899c5dd81f" title="See setEnsureSingleShadowSource.">Caelum::CaelumSystem::getEnsureSingleShadowSource</a>,
<a name="l00148"></a>00148                             &amp;<a class="code" href="classCaelum_1_1CaelumSystem.html#7ca36f3c2d400673b83234ef4c75fc42" title="Ensure only one of caelum&amp;#39;s light sources casts shadows (the brightest).">Caelum::CaelumSystem::setEnsureSingleShadowSource</a>));
<a name="l00149"></a>00149 
<a name="l00150"></a>00150             CaelumSystemTypeDescriptor = td.release ();
<a name="l00151"></a>00151         }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153         <span class="keywordflow">if</span> (!PointStarfieldTypeDescriptor)
<a name="l00154"></a>00154         {
<a name="l00155"></a>00155             std::auto_ptr&lt;DefaultTypeDescriptor&gt; td (<span class="keyword">new</span> DefaultTypeDescriptor ());
<a name="l00156"></a>00156             td-&gt;add(<span class="stringliteral">"magnitude_scale"</span>,
<a name="l00157"></a>00157                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PointStarfield, Real, Real, Real&gt;(
<a name="l00158"></a>00158                             &amp;Caelum::PointStarfield::getMagnitudeScale,
<a name="l00159"></a>00159                             &amp;<a class="code" href="classCaelum_1_1PointStarfield.html#ddaab61a7762cf45d97e9e89fec9484a" title="Magnitude power scale.">Caelum::PointStarfield::setMagnitudeScale</a>));
<a name="l00160"></a>00160             td-&gt;add(<span class="stringliteral">"mag0_pixel_size"</span>,
<a name="l00161"></a>00161                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PointStarfield, Real, Real, Real&gt;(
<a name="l00162"></a>00162                             &amp;Caelum::PointStarfield::getMag0PixelSize,
<a name="l00163"></a>00163                             &amp;Caelum::PointStarfield::setMag0PixelSize));
<a name="l00164"></a>00164             td-&gt;add(<span class="stringliteral">"min_pixel_size"</span>,
<a name="l00165"></a>00165                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PointStarfield, Real, Real, Real&gt;(
<a name="l00166"></a>00166                             &amp;Caelum::PointStarfield::getMinPixelSize,
<a name="l00167"></a>00167                             &amp;Caelum::PointStarfield::setMinPixelSize));
<a name="l00168"></a>00168             td-&gt;add(<span class="stringliteral">"max_pixel_size"</span>,
<a name="l00169"></a>00169                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PointStarfield, Real, Real, Real&gt;(
<a name="l00170"></a>00170                             &amp;Caelum::PointStarfield::getMaxPixelSize,
<a name="l00171"></a>00171                             &amp;Caelum::PointStarfield::setMaxPixelSize));
<a name="l00172"></a>00172             td-&gt;add(<span class="stringliteral">"latitude"</span>,
<a name="l00173"></a>00173                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PointStarfield, Degree, Degree, Degree&gt;(
<a name="l00174"></a>00174                             &amp;Caelum::PointStarfield::getObserverLatitude,
<a name="l00175"></a>00175                             &amp;Caelum::PointStarfield::setObserverLatitude));
<a name="l00176"></a>00176             td-&gt;add(<span class="stringliteral">"longitude"</span>,
<a name="l00177"></a>00177                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PointStarfield, Degree, Degree, Degree&gt;(
<a name="l00178"></a>00178                             &amp;Caelum::PointStarfield::getObserverLongitude,
<a name="l00179"></a>00179                             &amp;Caelum::PointStarfield::setObserverLongitude));
<a name="l00180"></a>00180             td-&gt;add(<span class="stringliteral">"observer_position_rebuild_delta"</span>,
<a name="l00181"></a>00181                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PointStarfield, Degree, Degree, Degree&gt;(
<a name="l00182"></a>00182                             &amp;<a class="code" href="classCaelum_1_1PointStarfield.html#5632ec16462af3d179cf9da469555103" title="Moving the observer position around causes a starfield rebuild.">Caelum::PointStarfield::getObserverPositionRebuildDelta</a>,
<a name="l00183"></a>00183                             &amp;Caelum::PointStarfield::setObserverPositionRebuildDelta));
<a name="l00184"></a>00184             PointStarfieldTypeDescriptor = td.release ();
<a name="l00185"></a>00185         }
<a name="l00186"></a>00186 
<a name="l00187"></a>00187         <span class="keywordflow">if</span> (!BaseSkyLightTypeDescriptor)
<a name="l00188"></a>00188         {
<a name="l00189"></a>00189             std::auto_ptr&lt;DefaultTypeDescriptor&gt; td (<span class="keyword">new</span> DefaultTypeDescriptor ());
<a name="l00190"></a>00190             td-&gt;add(<span class="stringliteral">"ambient_multiplier"</span>,
<a name="l00191"></a>00191                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::BaseSkyLight, ColourValue&gt;(
<a name="l00192"></a>00192                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#cf7a6de766e821ccf549750a2af3eefb" title="Set ambient multiplier for light colour.">Caelum::BaseSkyLight::getAmbientMultiplier</a>,
<a name="l00193"></a>00193                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#c737d6a7cce504e5a1e2d4e14cefbb5d" title="Set ambient multiplier for light colour This value is only stored here; the SceneManager...">Caelum::BaseSkyLight::setAmbientMultiplier</a>));
<a name="l00194"></a>00194             td-&gt;add(<span class="stringliteral">"specular_multiplier"</span>,
<a name="l00195"></a>00195                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::BaseSkyLight, ColourValue&gt;(
<a name="l00196"></a>00196                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#8e90e904e508497f430d16dc60e57f6a" title="Set specular multiplier for light colour.">Caelum::BaseSkyLight::getSpecularMultiplier</a>,
<a name="l00197"></a>00197                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#d31fe233e78558c1a1a4c444973fc08f" title="Set specular multiplier for light colour.">Caelum::BaseSkyLight::setSpecularMultiplier</a>));
<a name="l00198"></a>00198             td-&gt;add(<span class="stringliteral">"diffuse_multiplier"</span>,
<a name="l00199"></a>00199                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::BaseSkyLight, ColourValue&gt;(
<a name="l00200"></a>00200                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#7f6e547ef7218925962c86d64d60cb6e" title="Set diffuse multiplier for light colour.">Caelum::BaseSkyLight::getDiffuseMultiplier</a>,
<a name="l00201"></a>00201                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#78822baa4cdc88d72c1fc95c3ca44e8c" title="Set diffuse multiplier for light colour.">Caelum::BaseSkyLight::setDiffuseMultiplier</a>));
<a name="l00202"></a>00202             td-&gt;add(<span class="stringliteral">"light_colour"</span>,
<a name="l00203"></a>00203                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::BaseSkyLight, ColourValue&gt;(
<a name="l00204"></a>00204                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#dee6ff3f029c346fab9f28fbb8ba6ea3" title="Get current light colour, as set in setLightColour.">Caelum::BaseSkyLight::getLightColour</a>,
<a name="l00205"></a>00205                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#c5fa747cda2dcf1377125bf914cfe3c7" title="Sets the skylight colour.">Caelum::BaseSkyLight::setLightColour</a>));
<a name="l00206"></a>00206             td-&gt;add(<span class="stringliteral">"body_colour"</span>,
<a name="l00207"></a>00207                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::BaseSkyLight, ColourValue&gt;(
<a name="l00208"></a>00208                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#c726fc482497e4ff2328cf438a04e7c1" title="Get current body colour, as set in setBodyColour.">Caelum::BaseSkyLight::getBodyColour</a>,
<a name="l00209"></a>00209                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#e5b22f1ad35db83c5e681f8dfc194425" title="Sets the colour to draw the light&amp;#39;s body with.">Caelum::BaseSkyLight::setBodyColour</a>));
<a name="l00210"></a>00210             td-&gt;add(<span class="stringliteral">"auto_disable_threshold"</span>,
<a name="l00211"></a>00211                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::BaseSkyLight, Real, Real, Real&gt;(
<a name="l00212"></a>00212                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#9d13e041d66a7d24091b49a42b546cc6" title="Get the auto-disable threshold.">Caelum::BaseSkyLight::getAutoDisableThreshold</a>,
<a name="l00213"></a>00213                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#c45fbbf21020c60e26ae9d8ce5dfcbf2" title="Set the auto-disable threshold.">Caelum::BaseSkyLight::setAutoDisableThreshold</a>));
<a name="l00214"></a>00214             td-&gt;add(<span class="stringliteral">"auto_disable"</span>,
<a name="l00215"></a>00215                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::BaseSkyLight, bool, bool, bool&gt;(
<a name="l00216"></a>00216                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#1a19380b68247d37e72f4a9515a04cc5" title="Check if the light is automatically disabled.">Caelum::BaseSkyLight::getAutoDisable</a>,
<a name="l00217"></a>00217                             &amp;<a class="code" href="classCaelum_1_1BaseSkyLight.html#857b1c16817ac8e0e2d4680681a1bc51" title="Turn on and off auto-disabling of the light when too dim.">Caelum::BaseSkyLight::setAutoDisable</a>));
<a name="l00218"></a>00218             BaseSkyLightTypeDescriptor = td.release ();
<a name="l00219"></a>00219         }
<a name="l00220"></a>00220 
<a name="l00221"></a>00221         <span class="keywordflow">if</span> (!GroundFogTypeDescriptor)
<a name="l00222"></a>00222         {
<a name="l00223"></a>00223             std::auto_ptr&lt;DefaultTypeDescriptor&gt; td (<span class="keyword">new</span> DefaultTypeDescriptor ());
<a name="l00224"></a>00224             td-&gt;add(<span class="stringliteral">"density"</span>,
<a name="l00225"></a>00225                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::GroundFog, Real, Real, Real&gt;(
<a name="l00226"></a>00226                             &amp;<a class="code" href="classCaelum_1_1GroundFog.html#7561c31f7b924932329e87f5bd97fe04" title="Get the fog density multiplier.">Caelum::GroundFog::getDensity</a>,
<a name="l00227"></a>00227                             &amp;<a class="code" href="classCaelum_1_1GroundFog.html#bd890eeb92a9905e7ac86a2f6ba36174" title="Sets the fog density multiplier.">Caelum::GroundFog::setDensity</a>));
<a name="l00228"></a>00228             td-&gt;add(<span class="stringliteral">"vertical_decay"</span>,
<a name="l00229"></a>00229                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::GroundFog, Real, Real, Real&gt;(
<a name="l00230"></a>00230                             &amp;<a class="code" href="classCaelum_1_1GroundFog.html#61de309050fb20eb68569044df96c039" title="Get the vertical fog decay constant.">Caelum::GroundFog::getVerticalDecay</a>,
<a name="l00231"></a>00231                             &amp;<a class="code" href="classCaelum_1_1GroundFog.html#e83eb9fc967e442fb282805ed0de4410" title="Sets the vertical fog decay constant.">Caelum::GroundFog::setVerticalDecay</a>));
<a name="l00232"></a>00232             td-&gt;add(<span class="stringliteral">"ground_level"</span>,
<a name="l00233"></a>00233                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::GroundFog, Real, Real, Real&gt;(
<a name="l00234"></a>00234                             &amp;<a class="code" href="classCaelum_1_1GroundFog.html#25b07e241d5fc5f1fa137f29879a30ef" title="Get the ground level.">Caelum::GroundFog::getGroundLevel</a>,
<a name="l00235"></a>00235                             &amp;<a class="code" href="classCaelum_1_1GroundFog.html#3ba66b03da3cda7ffeac1ff023dcc5ef" title="Sets the ground level.">Caelum::GroundFog::setGroundLevel</a>));
<a name="l00236"></a>00236             td-&gt;add(<span class="stringliteral">"colour"</span>,
<a name="l00237"></a>00237                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::GroundFog, ColourValue&gt;(
<a name="l00238"></a>00238                             &amp;<a class="code" href="classCaelum_1_1GroundFog.html#ce8ed8e1ef17d39a6bb366622f00f8ce" title="Gets fog colour.">Caelum::GroundFog::getColour</a>,
<a name="l00239"></a>00239                             &amp;<a class="code" href="classCaelum_1_1GroundFog.html#280d152df3e6475e3ce30b50590f747b" title="Sets fog colour.">Caelum::GroundFog::setColour</a>));
<a name="l00240"></a>00240             GroundFogTypeDescriptor = td.release ();
<a name="l00241"></a>00241         }
<a name="l00242"></a>00242 
<a name="l00243"></a>00243         <span class="keywordflow">if</span> (!DepthComposerTypeDescriptor)
<a name="l00244"></a>00244         {
<a name="l00245"></a>00245             std::auto_ptr&lt;DefaultTypeDescriptor&gt; td (<span class="keyword">new</span> DefaultTypeDescriptor ());
<a name="l00246"></a>00246             td-&gt;add(<span class="stringliteral">"debug_depth_render"</span>,
<a name="l00247"></a>00247                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::DepthComposer, bool, bool, bool&gt;(
<a name="l00248"></a>00248                             &amp;Caelum::DepthComposer::getDebugDepthRender,
<a name="l00249"></a>00249                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#a3099c28af90faa4e105c89a4e671cb2" title="Enables drawing the depth buffer.">Caelum::DepthComposer::setDebugDepthRender</a>));
<a name="l00250"></a>00250 
<a name="l00251"></a>00251             <span class="comment">// Legacy haze</span>
<a name="l00252"></a>00252             td-&gt;add(<span class="stringliteral">"haze_enabled"</span>,
<a name="l00253"></a>00253                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::DepthComposer, bool, bool, bool&gt;(
<a name="l00254"></a>00254                             &amp;Caelum::DepthComposer::getSkyDomeHazeEnabled,
<a name="l00255"></a>00255                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#2003a389d346cd3b959bc6d6593be11c" title="Enables skydome haze.">Caelum::DepthComposer::setSkyDomeHazeEnabled</a>));
<a name="l00256"></a>00256             td-&gt;add(<span class="stringliteral">"haze_colour"</span>,
<a name="l00257"></a>00257                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::DepthComposer, ColourValue&gt;(
<a name="l00258"></a>00258                             &amp;Caelum::DepthComposer::getHazeColour,
<a name="l00259"></a>00259                             &amp;Caelum::DepthComposer::setHazeColour));
<a name="l00260"></a>00260             td-&gt;add(<span class="stringliteral">"haze_sun_direction"</span>,
<a name="l00261"></a>00261                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::DepthComposer, Vector3&gt;(
<a name="l00262"></a>00262                             &amp;Caelum::DepthComposer::getSunDirection,
<a name="l00263"></a>00263                             &amp;Caelum::DepthComposer::setSunDirection));
<a name="l00264"></a>00264 
<a name="l00265"></a>00265             <span class="comment">// Ground fog</span>
<a name="l00266"></a>00266             td-&gt;add(<span class="stringliteral">"ground_fog_enabled"</span>,
<a name="l00267"></a>00267                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::DepthComposer, bool, bool, bool&gt;(
<a name="l00268"></a>00268                             &amp;Caelum::DepthComposer::getGroundFogEnabled,
<a name="l00269"></a>00269                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#e6f24d06817c97d2eb8e75a059964913" title="Enables exponential ground fog.">Caelum::DepthComposer::setGroundFogEnabled</a>));
<a name="l00270"></a>00270             td-&gt;add(<span class="stringliteral">"ground_fog_density"</span>,
<a name="l00271"></a>00271                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::DepthComposer, Real, Real, Real&gt;(
<a name="l00272"></a>00272                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#3848941024220b1198416876566e1b81" title="Get ground fog density.">Caelum::DepthComposer::getGroundFogDensity</a>,
<a name="l00273"></a>00273                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#39eddd0ef5ab0f693ec8412b5e540b8c" title="Sets ground fog density.">Caelum::DepthComposer::setGroundFogDensity</a>));
<a name="l00274"></a>00274             td-&gt;add(<span class="stringliteral">"ground_fog_vertical_decay"</span>,
<a name="l00275"></a>00275                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::DepthComposer, Real, Real, Real&gt;(
<a name="l00276"></a>00276                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#0762ee13f038683784d16f76f2f1fc66" title="Get ground fog density.">Caelum::DepthComposer::getGroundFogVerticalDecay</a>,
<a name="l00277"></a>00277                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#bc737117ea9c57a58648148771dd0797" title="Sets ground fog vertical decay.">Caelum::DepthComposer::setGroundFogVerticalDecay</a>));
<a name="l00278"></a>00278             td-&gt;add(<span class="stringliteral">"ground_fog_base_level"</span>,
<a name="l00279"></a>00279                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::DepthComposer, Real, Real, Real&gt;(
<a name="l00280"></a>00280                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#0d0dade8dc74fe6b5e79e8d83660a1d5" title="Get ground fog density.">Caelum::DepthComposer::getGroundFogBaseLevel</a>,
<a name="l00281"></a>00281                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#f55a0760c3ddb7af92d4c1b23030df38" title="Sets ground fog level At ground level fogginess is equal to GroundFogDensity.">Caelum::DepthComposer::setGroundFogBaseLevel</a>));
<a name="l00282"></a>00282             td-&gt;add(<span class="stringliteral">"ground_fog_colour"</span>,
<a name="l00283"></a>00283                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::DepthComposer, ColourValue&gt;(
<a name="l00284"></a>00284                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#2b74903c7926f5041ded6917afc99f1b" title="Get ground fog colour.">Caelum::DepthComposer::getGroundFogColour</a>,
<a name="l00285"></a>00285                             &amp;<a class="code" href="classCaelum_1_1DepthComposer.html#497ef94d05a0bdbedd3f01da2d7f8d78" title="Sets ground fog colour.">Caelum::DepthComposer::setGroundFogColour</a>));
<a name="l00286"></a>00286 
<a name="l00287"></a>00287             DepthComposerTypeDescriptor = td.release ();
<a name="l00288"></a>00288         }
<a name="l00289"></a>00289 
<a name="l00290"></a>00290         <span class="keywordflow">if</span> (!PrecipitationTypeDescriptor)
<a name="l00291"></a>00291         {
<a name="l00292"></a>00292             std::auto_ptr&lt;DefaultTypeDescriptor&gt; td (<span class="keyword">new</span> DefaultTypeDescriptor ());
<a name="l00293"></a>00293 
<a name="l00294"></a>00294             td-&gt;add(<span class="stringliteral">"texture"</span>,
<a name="l00295"></a>00295                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PrecipitationController, String&gt;(
<a name="l00296"></a>00296                             &amp;Caelum::PrecipitationController::getTextureName,
<a name="l00297"></a>00297                             &amp;Caelum::PrecipitationController::setTextureName));
<a name="l00298"></a>00298             td-&gt;add(<span class="stringliteral">"precipitation_colour"</span>,
<a name="l00299"></a>00299                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PrecipitationController, ColourValue&gt;(
<a name="l00300"></a>00300                             &amp;Caelum::PrecipitationController::getColour,
<a name="l00301"></a>00301                             &amp;<a class="code" href="classCaelum_1_1PrecipitationController.html#eb421d59d0d9d1174c9032dcd1615c6b" title="Precipitation color. Part of a preset.">Caelum::PrecipitationController::setColour</a>));
<a name="l00302"></a>00302             td-&gt;add(<span class="stringliteral">"falling_speed"</span>,
<a name="l00303"></a>00303                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PrecipitationController, Real, Real, Real&gt;(
<a name="l00304"></a>00304                             &amp;Caelum::PrecipitationController::getSpeed,
<a name="l00305"></a>00305                             &amp;<a class="code" href="classCaelum_1_1PrecipitationController.html#090c715e44b0032d0cdf360c3cbc4ff3" title="Precipitation speed (affects direction). Part of a preset.">Caelum::PrecipitationController::setSpeed</a>));
<a name="l00306"></a>00306             td-&gt;add(<span class="stringliteral">"wind_speed"</span>,
<a name="l00307"></a>00307                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PrecipitationController, Vector3&gt;(
<a name="l00308"></a>00308                             &amp;Caelum::PrecipitationController::getWindSpeed,
<a name="l00309"></a>00309                             &amp;<a class="code" href="classCaelum_1_1PrecipitationController.html#b62ff3f5bbd852965266d0f9589c7ff0" title="Wind speed and direction.">Caelum::PrecipitationController::setWindSpeed</a>));
<a name="l00310"></a>00310             td-&gt;add(<span class="stringliteral">"camera_speed_scale"</span>,
<a name="l00311"></a>00311                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PrecipitationController, Vector3&gt;(
<a name="l00312"></a>00312                             &amp;Caelum::PrecipitationController::getCameraSpeedScale,
<a name="l00313"></a>00313                             &amp;<a class="code" href="classCaelum_1_1PrecipitationController.html#4d93de62755fc50f5478af15fee7a4f9" title="Automatically scale camera speed.">Caelum::PrecipitationController::setCameraSpeedScale</a>));
<a name="l00314"></a>00314             td-&gt;add(<span class="stringliteral">"intensity"</span>,
<a name="l00315"></a>00315                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PrecipitationController, Real, Real, Real&gt;(
<a name="l00316"></a>00316                             &amp;Caelum::PrecipitationController::getIntensity,
<a name="l00317"></a>00317                             &amp;<a class="code" href="classCaelum_1_1PrecipitationController.html#066851e4b189faf585e13587ca1f86db" title="Precipitation intensity.">Caelum::PrecipitationController::setIntensity</a>));
<a name="l00318"></a>00318             td-&gt;add(<span class="stringliteral">"auto_disable_intensity"</span>,
<a name="l00319"></a>00319                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PrecipitationController, Real, Real, Real&gt;(
<a name="l00320"></a>00320                             &amp;Caelum::PrecipitationController::getAutoDisableThreshold,
<a name="l00321"></a>00321                             &amp;<a class="code" href="classCaelum_1_1PrecipitationController.html#dd3cf96363066b23031fe271e5efa077" title="Automatically disable compositors when intensity is low.">Caelum::PrecipitationController::setAutoDisableThreshold</a>));
<a name="l00322"></a>00322             td-&gt;add(<span class="stringliteral">"falling_direction"</span>,
<a name="l00323"></a>00323                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::PrecipitationController, Vector3&gt;(
<a name="l00324"></a>00324                             &amp;Caelum::PrecipitationController::getFallingDirection,
<a name="l00325"></a>00325                             &amp;<a class="code" href="classCaelum_1_1PrecipitationController.html#3845ea544ac9470a8f8f865163affbeb" title="The basic direction for falling precipitation.">Caelum::PrecipitationController::setFallingDirection</a>));
<a name="l00326"></a>00326 
<a name="l00327"></a>00327             PrecipitationTypeDescriptor = td.release ();
<a name="l00328"></a>00328         }
<a name="l00329"></a>00329 
<a name="l00330"></a>00330         <span class="keywordflow">if</span> (!FlatCloudLayerTypeDescriptor)
<a name="l00331"></a>00331         {
<a name="l00332"></a>00332             std::auto_ptr&lt;DefaultTypeDescriptor&gt; td (<span class="keyword">new</span> DefaultTypeDescriptor ());
<a name="l00333"></a>00333 
<a name="l00334"></a>00334             <span class="comment">// Height.</span>
<a name="l00335"></a>00335             td-&gt;add(<span class="stringliteral">"height"</span>,
<a name="l00336"></a>00336                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Real, Real, Real&gt;(
<a name="l00337"></a>00337                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#c0d918301f9272111247ff29eb445420" title="Get the height of the cloud layer.">Caelum::FlatCloudLayer::getHeight</a>,
<a name="l00338"></a>00338                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#f8cbe8d0dc6a15748f1189151deaf220" title="Set the height of the cloud layer.">Caelum::FlatCloudLayer::setHeight</a>));
<a name="l00339"></a>00339 
<a name="l00340"></a>00340             <span class="comment">// Coverage parameters.</span>
<a name="l00341"></a>00341             td-&gt;add(<span class="stringliteral">"coverage"</span>,
<a name="l00342"></a>00342                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Real, Real, Real&gt;(
<a name="l00343"></a>00343                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#5a267b805eab63a6d48ba1fed106dc24" title="Gets the current cloud cover.">Caelum::FlatCloudLayer::getCloudCover</a>,
<a name="l00344"></a>00344                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#ff9f1dec5c3d9e0da26952625f322d71" title="Sets cloud cover, between 0 (completely clear) and 1 (completely covered).">Caelum::FlatCloudLayer::setCloudCover</a>));
<a name="l00345"></a>00345             td-&gt;add(<span class="stringliteral">"cloud_cover_visibility_threshold"</span>,
<a name="l00346"></a>00346                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Real, Real, Real&gt;(
<a name="l00347"></a>00347                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#b93eace46d4ae71943bae1197bac5064" title="Get cloud cover visiblity threshold.">Caelum::FlatCloudLayer::getCloudCoverVisibilityThreshold</a>,
<a name="l00348"></a>00348                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#f9623a4168a3b14258fd61e968edfcb9" title="Set cloud cover visiblity threshold.">Caelum::FlatCloudLayer::setCloudCoverVisibilityThreshold</a>));
<a name="l00349"></a>00349             td-&gt;add(<span class="stringliteral">"cloud_cover_lookup"</span>,
<a name="l00350"></a>00350                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, String&gt;(
<a name="l00351"></a>00351                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#3d60bf54bb8d94e10a41749f8ffb1e14" title="Get the filename of the cloud cover lookup image.">Caelum::FlatCloudLayer::getCloudCoverLookupFileName</a>,
<a name="l00352"></a>00352                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#99c5a912593549dac1524d98ff462d86" title="Set the image used to lookup the cloud coverage threshold.">Caelum::FlatCloudLayer::setCloudCoverLookup</a>));
<a name="l00353"></a>00353 
<a name="l00354"></a>00354             <span class="comment">// Overwritten by CaelumSystem; included for completeness.</span>
<a name="l00355"></a>00355             td-&gt;add(<span class="stringliteral">"sun_direction"</span>,
<a name="l00356"></a>00356                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Vector3&gt;(
<a name="l00357"></a>00357                             &amp;Caelum::FlatCloudLayer::getSunDirection,
<a name="l00358"></a>00358                             &amp;Caelum::FlatCloudLayer::setSunDirection));
<a name="l00359"></a>00359             td-&gt;add(<span class="stringliteral">"sun_light_colour"</span>,
<a name="l00360"></a>00360                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, ColourValue&gt;(
<a name="l00361"></a>00361                             &amp;Caelum::FlatCloudLayer::getSunLightColour,
<a name="l00362"></a>00362                             &amp;Caelum::FlatCloudLayer::setSunLightColour));
<a name="l00363"></a>00363             td-&gt;add(<span class="stringliteral">"sun_sphere_colour"</span>,
<a name="l00364"></a>00364                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, ColourValue&gt;(
<a name="l00365"></a>00365                             &amp;Caelum::FlatCloudLayer::getSunSphereColour,
<a name="l00366"></a>00366                             &amp;Caelum::FlatCloudLayer::setSunSphereColour));
<a name="l00367"></a>00367             td-&gt;add(<span class="stringliteral">"fog_colour"</span>,
<a name="l00368"></a>00368                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, ColourValue&gt;(
<a name="l00369"></a>00369                             &amp;Caelum::FlatCloudLayer::getFogColour,
<a name="l00370"></a>00370                             &amp;Caelum::FlatCloudLayer::setFogColour));
<a name="l00371"></a>00371 
<a name="l00372"></a>00372             <span class="comment">// Moving noise textures.</span>
<a name="l00373"></a>00373             td-&gt;add(<span class="stringliteral">"cloud_speed"</span>,
<a name="l00374"></a>00374                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Vector2&gt;(
<a name="l00375"></a>00375                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#f61574bb29482c5acca3ca680fb13452" title="Gets cloud movement speed.">Caelum::FlatCloudLayer::getCloudSpeed</a>,
<a name="l00376"></a>00376                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#8b948df17ffba5515f53da8a46147820" title="Sets cloud movement speed.">Caelum::FlatCloudLayer::setCloudSpeed</a>)); 
<a name="l00377"></a>00377 
<a name="l00378"></a>00378             <span class="comment">// Blending time between noise textures.</span>
<a name="l00379"></a>00379             td-&gt;add(<span class="stringliteral">"blend_time"</span>,
<a name="l00380"></a>00380                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Real, Real, Real&gt;(
<a name="l00381"></a>00381                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#8c01f8c2e9aadf06befd23c75ede7f21" title="Gets the time it takes to blend two cloud shaped together, in seconds.">Caelum::FlatCloudLayer::getCloudBlendTime</a>,
<a name="l00382"></a>00382                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#ce7920de07d0d80581bbcf2f52b483e6" title="Sets the time it takes to blend two cloud shaped together, in seconds.">Caelum::FlatCloudLayer::setCloudBlendTime</a>));
<a name="l00383"></a>00383 
<a name="l00384"></a>00384             <span class="comment">// Mesh properties</span>
<a name="l00385"></a>00385             td-&gt;add(<span class="stringliteral">"mesh_width"</span>,
<a name="l00386"></a>00386                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Real, Real, Real&gt;(
<a name="l00387"></a>00387                             &amp;Caelum::FlatCloudLayer::getMeshWidth,
<a name="l00388"></a>00388                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#c51ef7ba8ab6b6914a9bd7e423c39524">Caelum::FlatCloudLayer::setMeshWidth</a>));
<a name="l00389"></a>00389             td-&gt;add(<span class="stringliteral">"mesh_height"</span>,
<a name="l00390"></a>00390                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Real, Real, Real&gt;(
<a name="l00391"></a>00391                             &amp;Caelum::FlatCloudLayer::getMeshHeight,
<a name="l00392"></a>00392                             &amp;Caelum::FlatCloudLayer::setMeshHeight));
<a name="l00393"></a>00393             td-&gt;add(<span class="stringliteral">"mesh_width_segments"</span>,
<a name="l00394"></a>00394                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, int, int, int&gt;(
<a name="l00395"></a>00395                             &amp;Caelum::FlatCloudLayer::getMeshWidthSegments,
<a name="l00396"></a>00396                             &amp;Caelum::FlatCloudLayer::setMeshWidthSegments));
<a name="l00397"></a>00397             td-&gt;add(<span class="stringliteral">"mesh_height_segments"</span>,
<a name="l00398"></a>00398                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, int, int, int&gt;(
<a name="l00399"></a>00399                             &amp;Caelum::FlatCloudLayer::getMeshHeightSegments,
<a name="l00400"></a>00400                             &amp;Caelum::FlatCloudLayer::setMeshHeightSegments));
<a name="l00401"></a>00401 
<a name="l00402"></a>00402             <span class="comment">// Misc hacks</span>
<a name="l00403"></a>00403             td-&gt;add(<span class="stringliteral">"cloud_uv_factor"</span>,
<a name="l00404"></a>00404                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Real, Real, Real&gt;(
<a name="l00405"></a>00405                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#0c7f1ddb2064d729d13a618c6c13258b">Caelum::FlatCloudLayer::getCloudUVFactor</a>,
<a name="l00406"></a>00406                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#82fb2e7799a0e7acca028f5d7a79ee38" title="Cloud texture coordinates are multiplied with this.">Caelum::FlatCloudLayer::setCloudUVFactor</a>));
<a name="l00407"></a>00407             td-&gt;add(<span class="stringliteral">"height_red_factor"</span>,
<a name="l00408"></a>00408                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Real, Real, Real&gt;(
<a name="l00409"></a>00409                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#729c172cd976fb4753e4c2ddf567d30e">Caelum::FlatCloudLayer::getHeightRedFactor</a>,
<a name="l00410"></a>00410                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#341c499a3f42d83fc74c0fcd124d38a8" title="High-altitude clouds are tinted red in the evening.">Caelum::FlatCloudLayer::setHeightRedFactor</a>));
<a name="l00411"></a>00411 
<a name="l00412"></a>00412             <span class="comment">// Fading</span>
<a name="l00413"></a>00413             td-&gt;add(<span class="stringliteral">"near_fade_dist"</span>,
<a name="l00414"></a>00414                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Real, Real, Real&gt;(
<a name="l00415"></a>00415                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#72e0acd7c83cce664f70ad53cd6076b7" title="Get near fade distance (see setFadeDistances).">Caelum::FlatCloudLayer::getNearFadeDist</a>,
<a name="l00416"></a>00416                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#3bfb4c8cd8319716b32203b5abd10152" title="Set only near fade distance (see setFadeDistances).">Caelum::FlatCloudLayer::setNearFadeDist</a>));
<a name="l00417"></a>00417             td-&gt;add(<span class="stringliteral">"far_fade_dist"</span>,
<a name="l00418"></a>00418                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Real, Real, Real&gt;(
<a name="l00419"></a>00419                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#ad45181a5cd506da358d349e5d632998" title="Get fade distance (see setFadeDistances).">Caelum::FlatCloudLayer::getFarFadeDist</a>,
<a name="l00420"></a>00420                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#acb628e3d29d22994bb33e8bd47be3b5" title="Set only far fade distance (see setFadeDistances).">Caelum::FlatCloudLayer::setFarFadeDist</a>));
<a name="l00421"></a>00421             td-&gt;add(<span class="stringliteral">"fade_dist_measurement_vector"</span>,
<a name="l00422"></a>00422                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::FlatCloudLayer, Vector3&gt;(
<a name="l00423"></a>00423                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#3d54d841fb1c7db739746c53559b7e33" title="Get the value set by setFadeDistMeasurementVector.">Caelum::FlatCloudLayer::getFadeDistMeasurementVector</a>,
<a name="l00424"></a>00424                             &amp;<a class="code" href="classCaelum_1_1FlatCloudLayer.html#768a5977d3d2803e49ea3dca29b263fd" title="Set on which components is the fade distance measured.">Caelum::FlatCloudLayer::setFadeDistMeasurementVector</a>));
<a name="l00425"></a>00425 
<a name="l00426"></a>00426             FlatCloudLayerTypeDescriptor = td.release ();
<a name="l00427"></a>00427         }
<a name="l00428"></a>00428 
<a name="l00429"></a>00429         <span class="keywordflow">if</span> (!SkyDomeTypeDescriptor)
<a name="l00430"></a>00430         {
<a name="l00431"></a>00431             std::auto_ptr&lt;DefaultTypeDescriptor&gt; td (<span class="keyword">new</span> DefaultTypeDescriptor ());
<a name="l00432"></a>00432 
<a name="l00433"></a>00433             <span class="comment">// SkyDome is slightly special because most properties are write-only.</span>
<a name="l00434"></a>00434 
<a name="l00435"></a>00435             <span class="comment">// Reset by CaelumSystem every frame anyway</span>
<a name="l00436"></a>00436             td-&gt;add(<span class="stringliteral">"sun_direction"</span>,
<a name="l00437"></a>00437                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::SkyDome, Ogre::Vector3&gt;(
<a name="l00438"></a>00438                             0, &amp;<a class="code" href="classCaelum_1_1SkyDome.html#c0812bc3dd1f53d1638abfa2a4ba88e4" title="Sets the sun direction.">Caelum::SkyDome::setSunDirection</a>));
<a name="l00439"></a>00439             td-&gt;add(<span class="stringliteral">"haze_colour"</span>,
<a name="l00440"></a>00440                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::SkyDome, Ogre::ColourValue&gt;(
<a name="l00441"></a>00441                             0, &amp;<a class="code" href="classCaelum_1_1SkyDome.html#f247f9e0dd37c654b01a850895bef5f7" title="Explicit haze colour.">Caelum::SkyDome::setHazeColour</a>));
<a name="l00442"></a>00442 
<a name="l00443"></a>00443             <span class="comment">// Different files not supported anyway</span>
<a name="l00444"></a>00444             td-&gt;add(<span class="stringliteral">"sky_gradients_image"</span>,
<a name="l00445"></a>00445                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::SkyDome, Ogre::String&gt;(
<a name="l00446"></a>00446                             0, &amp;<a class="code" href="classCaelum_1_1SkyDome.html#e02631bd51f92719fde4bc8cb876b8e5" title="Set the sky color gradients image.">Caelum::SkyDome::setSkyGradientsImage</a>));
<a name="l00447"></a>00447             td-&gt;add(<span class="stringliteral">"atmosphere_depth_image"</span>,
<a name="l00448"></a>00448                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::SkyDome, Ogre::String&gt;(
<a name="l00449"></a>00449                             0, &amp;<a class="code" href="classCaelum_1_1SkyDome.html#a6d423fa142ad9d56a96c87951c804f1" title="Set the atmosphere depthh gradient image.">Caelum::SkyDome::setAtmosphereDepthImage</a>));
<a name="l00450"></a>00450 
<a name="l00451"></a>00451             <span class="comment">// This does actually make sense.</span>
<a name="l00452"></a>00452             td-&gt;add(<span class="stringliteral">"haze_enabled"</span>,
<a name="l00453"></a>00453                     <span class="keyword">new</span> AccesorPropertyDescriptor&lt;Caelum::SkyDome, bool, bool, bool&gt;(
<a name="l00454"></a>00454                             &amp;<a class="code" href="classCaelum_1_1SkyDome.html#8df033191b458f3569fce3bc1a55f28d" title="If skydome haze is enabled.">Caelum::SkyDome::getHazeEnabled</a>,
<a name="l00455"></a>00455                             &amp;<a class="code" href="classCaelum_1_1SkyDome.html#658556b184669f2ebb0de9fd37cdf3d5" title="Enable or disable skydome haze.">Caelum::SkyDome::setHazeEnabled</a>));
<a name="l00456"></a>00456 
<a name="l00457"></a>00457             SkyDomeTypeDescriptor = td.release ();
<a name="l00458"></a>00458         }
<a name="l00459"></a>00459     }
<a name="l00460"></a>00460 }
<a name="l00461"></a>00461 
<a name="l00462"></a>00462 <span class="preprocessor">#endif // CAELUM_TYPE_DESCRIPTORS</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Aug 9 10:48:55 2009 for Caelum by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
